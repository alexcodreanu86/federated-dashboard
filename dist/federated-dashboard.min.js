!function(a){"use strict";window.namespace=function(b,c){for(var d,e=window,f=b.split(".");d=f.shift();)e[d]=e[d]||{},e=e[d];a.extend(e,c)}}(window._),function(){namespace("Dashboard"),Dashboard.Controller=function(){function a(){}return a.bind=function(){return $("[data-id=pictures-widget]").click(function(a){return function(){return a.setupWidget(Pictures.Controller,"a48194703ae0d0d1055d6ded6c4c9869")}}(this)),$("[data-id=weather-widget]").click(function(a){return function(){return a.setupWidget(Weather.Controller,"12ba191e2fec98ad")}}(this)),$("[data-id=stock-widget]").click(function(a){return function(){return a.loadForm("stock",Stock.Controller)}}(this)),$("[data-id=twitter-widget]").click(function(a){return function(){return a.loadForm("twitter",Twitter.Controller)}}(this))},a.loadForm=function(a,b){var c;return c=Dashboard.Display.generateForm(a),Dashboard.Display.populateWidget(c),b.bind()},a.setupWidget=function(a,b){return a.setupWidgetIn("[data-id=widget-display]",b)},a}()}.call(this),function(){namespace("Dashboard"),Dashboard.Display=function(){function a(){}return a.populateWidget=function(a){return $("[data-id=widget-display]").html(a)},a.generateForm=function(a){var b;return b=a[0].toUpperCase()+a.slice(1),new EJS({url:"scripts/frontEnd/dashboard/formTemplate.ejs"}).render({widget:a,capitalized:b})},a}()}.call(this),function(){namespace("Stock"),Stock.API=function(){function a(){}return a.loadData=function(a,b){return $.ajax({method:"GET",url:"http://dev.markitondemand.com/Api/v2/Quote/jsonp",data:{symbol:a},dataType:"jsonp",success:b,error:console.log})},a}()}.call(this),function(){namespace("Stock"),Stock.Controller=function(){function a(){}return a.bind=function(){return $("[data-id=stock-button]").click(function(a){return function(){return a.getStockData(Stock.View.getInput())}}(this))},a.getStockData=function(a){return Stock.View.resetTable(),_.each(this.processInput(a),function(a){return Stock.API.loadData(a,Stock.View.outputData)})},a.processInput=function(a){return a.split(/\s+/)},a}()}.call(this),function(){namespace("Stock"),Stock.View=function(){function a(){}return a.getInput=function(){return $("[name=stock-search]").val()},a.outputData=function(a){var b,c;return b=Stock.View.formatResponse(a),c=new EJS({url:"scripts/frontEnd/stock/tRowTemplate.ejs"}).render(b),$("[data-id=stock-body]").append(c)},a.resetTable=function(){var a;return a=new EJS({url:"scripts/frontEnd/stock/tableTemplate.ejs"}).render({}),$("[data-id=stock-output]").html(a)},a.formatResponse=function(a){return{name:a.Name,symbol:a.Symbol,change:a.Change.toFixed(2),changePercent:a.ChangePercent.toFixed(2),changePercentYTD:a.ChangePercentYTD.toFixed(2),open:a.Open.toFixed(2),changeYTD:a.ChangeYTD.toFixed(2),high:a.High,lastPrice:a.LastPrice,low:a.Low,msDate:a.MSDate.toFixed(2),marketCap:a.MarketCap,open:a.Open,timestamp:a.Timestamp.substr(0,18),volume:a.Volume}},a}()}.call(this),function(){namespace("Twitter"),Twitter.Controller=function(){function a(){}return a.bind=function(){return $("[data-id=twitter-button]").click(function(a){return function(){return a.getTweeterPosts(Twitter.View.getInput())}}(this))},a.getTweeterPosts=function(a){var b;return b=this.generateUrl(a),$.get(b,function(a){return Twitter.View.displayTweets(a)},"json")},a.generateUrl=function(a){return"/search_twitter/"+a},a}()}.call(this),function(){namespace("Twitter"),Twitter.View=function(){function a(){}return a.getInput=function(){return $("[name=twitter-search]").val()},a.generateHtml=function(a){return new EJS({url:"scripts/frontEnd/twitter/template.ejs"}).render({statuses:a})},a.displayTweets=function(a){var b;return b=this.generateHtml(a),$("[data-id=twitter-output]").html(b)},a}()}.call(this);