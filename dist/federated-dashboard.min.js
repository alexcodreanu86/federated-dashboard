!function(a){"use strict";window.namespace=function(b,c){for(var d,e=window,f=b.split(".");d=f.shift();)e[d]=e[d]||{},e=e[d];a.extend(e,c)}}(window._),function(){namespace("Dashboard"),Dashboard.Controller=function(){function a(){}return a.initialize=function(){return this.bind(),this.generateWrappedWidgets()},a.bind=function(){return $("[data-id=pictures-widget]").click(function(a){return function(){return a.checkWidget("pictures")}}(this)),$("[data-id=weather-widget]").click(function(a){return function(){return a.checkWidget("weather")}}(this)),$("[data-id=stock-widget]").click(function(a){return function(){return a.checkWidget("stock")}}(this)),$("[data-id=twitter-widget]").click(function(a){return function(){return a.checkWidget("twitter")}}(this)),$("[data-id=menu-button]").click(function(a){return function(){return a.toggleSidenav()}}(this))},a.unbind=function(){return $("[data-id=pictures-widget]").unbind("click"),$("[data-id=weather-widget]").unbind("click"),$("[data-id=stock-widget]").unbind("click"),$("[data-id=twitter-widget]").unbind("click"),$("[data-id=menu-button]").unbind("click")},a.rebind=function(){return this.unbind(),this.bind()},a.wrapWidget=function(a,b,c){return new Dashboard.WidgetWrapper({widget:a,name:b,apiKey:c})},a.checkWidget=function(a){var b;return b=this.wrappedWidgets[a],b.isActive?void 0:this.setupWidget(b)},a.setupWidget=function(a){var b;return b=Dashboard.Display.generateAvailableSlotFor(2,a.name),b?(a.container=b,a.isActive=!0,a.setupWidget()):void 0},a.toggleSidenav=function(){var a;return Dashboard.Display.isSidenavDisplayed()?Dashboard.Display.removeSidenav():(a=this.getSidenavButtons(),Dashboard.Display.showSidenav(a)),this.rebind()},a.getSidenavButtons=function(){var a;return a=_.values(this.generateWrappedWidgets()),_.map(a,function(a){return a.widgetLogo()})},a.generateWrappedWidgets=function(){return this.wrappedWidgets={pictures:this.wrapWidget(Pictures,"pictures","a48194703ae0d0d1055d6ded6c4c9869"),weather:this.wrapWidget(Weather,"weather","12ba191e2fec98ad"),twitter:this.wrapWidget(Twitter,"twitter",""),stock:this.wrapWidget(Stock,"stock","")}},a}()}.call(this),function(){var a;namespace("Dashboard"),a=3,Dashboard.Display=function(){function b(){}return b.populateWidget=function(a){return $("[data-id=widget-display]").html(a)},b.generateForm=function(a){var b;return b=a[0].toUpperCase()+a.slice(1),new EJS({url:"scripts/dashboard/templates/form.ejs"}).render({widget:a,capitalized:b})},b.showSidenav=function(a){var b;return b=new EJS({url:"scripts/dashboard/templates/sidenavContent.ejs"}).render({buttons:a}),$("[data-id=side-nav]").html(b)},b.removeSidenav=function(){return $("[data-id=side-nav]").empty()},b.isSidenavDisplayed=function(){return $("[data-id=side-nav]").html().length>0},b.generateAvailableSlotFor=function(a,b){var c,d;return d=""+b+"-slot",c=this.getAvailableColumn(a),c?(this.addWidgetContainerToColumn(d,c,a),"[data-id="+d+"]"):void 0},b.addWidgetContainerToColumn=function(a,b,c){return $("[data-id="+b+"]").append("<div data-id='"+a+"'></div>"),this.takenSlots[b]+=c},b.getAvailableColumn=function(b){var c;return c=_.map(this.takenSlots,function(c,d){return a>=c+b?d:void 0}),_.find(c,function(a){return a})},b.takenSlots={col0:0,col1:0,col2:0},b}()}.call(this),function(){}.call(this),function(){namespace("Dashboard"),Dashboard.WidgetWrapper=function(){function a(a){this.widget=a.widget,this.widgetApiKey=a.apiKey,this.name=a.name}return a.prototype.setupWidget=function(){return this.widget.Controller.setupWidgetIn(this.container,this.widgetApiKey)},a.prototype.isActive=!1,a.prototype.widgetLogo=function(){var a;return a=""+this.name+"-widget",this.widget.Display.generateLogo({dataId:a,width:"50"})},a}()}.call(this);